<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Datos - Ventas de Videojuegos</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        .container {
            text-align: center;
        }
        .table-responsive {
            display: inline-block;
            margin: 0 auto;
        }
        table {
            margin: 0 auto;
            border-collapse: collapse;
            width: 80%;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            color: #333;
        }
        img {
            max-height: 50px;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <h1>Datos de Ventas de Videojuegos</h1>
        <nav>
            <ul>
                <li><a href="/"><i class="fas fa-home"></i> Inicio</a></li>
                <li><a href="/top_games"><i class="fas fa-trophy"></i> Top Juegos por Año</a></li>
                <li><a href="/publishers"><i class="fas fa-building"></i> Juegos por Empresa</a></li>
                <li><a href="/statistics"><i class="fas fa-chart-line"></i> Estadísticas</a></li>
                <li><a href="/data"><i class="fas fa-database"></i> Datos</a></li>
            </ul>
        </nav>

        <h2>Juegos Más Vendidos</h2>
        <div class="data-table">
            {{ most_sold_table|safe }}
        </div>

        <h2>Juegos Más Jugados</h2>
        <div class="data-table">
            {{ most_played_table|safe }}
        </div>

        <h2>Empresas con Más Ventas</h2>
        <div class="data-table">
            {{ top_publishers_table|safe }}
        </div>

        <h2>Juego Más Sobresaliente</h2>
        <div class="highlighted-game">
            <img src="{{ url_for('static', filename='img/wiiii.jpg') }}" alt="{{ top_game_name }}">
            <p>{{ top_game_name }}</p>
        </div>

        <h2>Región con Mayor Número de Jugadores</h2>
        <p>{{ top_region }}: {{ top_region_sales }} millones de ventas</p>

        <h2>Plataforma con Más Juegos</h2>
        <p>{{ platform_games }}: {{ platform_games_count }} juegos</p>

        <h2>Plataforma con Más Ventas</h2>
        <p>{{ platform_sales }}: {{ platform_sales_amount }} millones de ventas</p>

        <h2>Ventas Globales por Año</h2>
        <div>
            {{ plot_div1|safe }}
        </div>

        <h2>Ventas Globales por Plataforma</h2>
        <div>
            {{ plot_div2|safe }}
        </div>

        <!-- Botón para imprimir datos -->
        <button onclick="printData()">Imprimir Datos</button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        function printData() {
            window.print();
        }
    </script>
</body>
</html>
